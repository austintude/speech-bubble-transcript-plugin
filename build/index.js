(()=>{"use strict";var e,t={395:()=>{const e=window.wp.element,t=window.wp.blocks,r=window.wp.blockEditor,o=window.wp.components;console.log("MediaUpload: ",r.MediaUpload),console.log("Button: ",o.Button),console.log("useBlockProps: ",r.useBlockProps),(0,t.registerBlockType)("transcript-blocks/transcript-block",{apiVersion:2,title:"Transcript Block",description:"Add downloadable transcripts to your post.",category:"media",icon:"media-text",supports:{html:!1},attributes:{url:{type:"string",default:""},transcript:{type:"array",default:[]}},edit:t=>{let{attributes:s,setAttributes:a}=t;const n=(0,r.useBlockProps)({className:"my-class-name"});return(0,e.createElement)("div",n,(0,e.createElement)(r.MediaUpload,{onSelect:async e=>{a({url:e.url});try{const t=await fetch("/wp-json/transcript-blocks/v1/parse-transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})});if(!t.ok)throw new Error("HTTP error "+t.status);const r=await t.json();a({transcript:r})}catch(e){console.error(e)}},allowedTypes:["text/plain"],render:t=>{let{open:r}=t;return(0,e.createElement)(o.Button,{onClick:r},"Upload File")}}),s.transcript&&s.transcript.map(((t,r)=>{let{speaker:o,speech:s}=t;return(0,e.createElement)("div",{key:r,className:"transcript-block-speech"},(0,e.createElement)("strong",null,o),": ",s)})))},save:t=>{let{attributes:o}=t;const s=r.useBlockProps.save();return(0,e.createElement)("div",s,o.url&&(0,e.createElement)("a",{href:o.url,download:!0},"Download Transcript"),o.transcript&&o.transcript.map(((t,r)=>{let{speaker:o,speech:s}=t;return(0,e.createElement)("div",{key:r,className:"transcript-block-speech"},(0,e.createElement)("strong",null,o),": ",s)})))}})}},r={};function o(e){var s=r[e];if(void 0!==s)return s.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,r,s,a)=>{if(!r){var n=1/0;for(p=0;p<e.length;p++){for(var[r,s,a]=e[p],l=!0,c=0;c<r.length;c++)(!1&a||n>=a)&&Object.keys(o.O).every((e=>o.O[e](r[c])))?r.splice(c--,1):(l=!1,a<n&&(n=a));if(l){e.splice(p--,1);var i=s();void 0!==i&&(t=i)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[r,s,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var s,a,[n,l,c]=r,i=0;if(n.some((t=>0!==e[t]))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(c)var p=c(o)}for(t&&t(r);i<n.length;i++)a=n[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(p)},r=globalThis.webpackChunktranscripts_block=globalThis.webpackChunktranscripts_block||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=o.O(void 0,[431],(()=>o(395)));s=o.O(s)})();