(()=>{"use strict";var e,r={395:()=>{const e=window.wp.element,r=window.wp.blocks,t=window.wp.blockEditor,o=window.wp.components;(0,r.registerBlockType)("transcript-blocks/transcript-block",{apiVersion:2,title:"Transcript Block",description:"Add downloadable transcripts to your post.",category:"media",icon:"media-text",supports:{html:!1},attributes:{url:{type:"string",default:""},transcript:{type:"array",default:[]},speaker_1_color:{type:"string",default:"#000000"},speaker_2_color:{type:"string",default:"#000000"},speaker_3_color:{type:"string",default:"#000000"}},edit:r=>{let{attributes:a,setAttributes:l}=r;const n=(0,t.useBlockProps)({className:"my-class-name"}),{speaker_1_color:s,speaker_2_color:c,speaker_3_color:i}=a;return(0,e.createElement)("div",n,(0,e.createElement)(t.MediaUpload,{onSelect:async e=>{l({url:e.url});try{const r=await fetch("/wp-json/transcript-blocks/v1/parse-transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})});if(!r.ok)throw new Error("HTTP error "+r.status);const t=await r.json();l({transcript:t})}catch(e){console.error(e)}},allowedTypes:["text/plain"],render:r=>{let{open:t}=r;return(0,e.createElement)(o.Button,{onClick:t},"Upload File")}}),(0,e.createElement)(t.PanelColorSettings,{title:"Speaker 1 Color",colorSettings:[{value:s,onChange:e=>{l({speaker_1_color:e})},label:"Speaker 1 Color"}]}),(0,e.createElement)(t.PanelColorSettings,{title:"Speaker 2 Color",colorSettings:[{value:c,onChange:e=>{l({speaker_2_color:e})},label:"Speaker 2 Color"}]}),(0,e.createElement)(t.PanelColorSettings,{title:"Speaker 3 Color",colorSettings:[{value:i,onChange:e=>{l({speaker_3_color:e})},label:"Speaker 3 Color"}]}),a.transcript&&a.transcript.map(((r,t)=>{let{speaker:o,speech:a}=r;return(0,e.createElement)("div",{key:t,className:"transcript-block-speech"},(0,e.createElement)("strong",null,o),": ",a)})))},save:r=>{let{attributes:o}=r;const a=t.useBlockProps.save();return(0,e.createElement)("div",a,o.url&&(0,e.createElement)("a",{href:o.url,download:!0},"Download Transcript"),o.transcript&&o.transcript.map(((r,t)=>{let{speaker:a,speech:l}=r;return(0,e.createElement)("div",{key:t,className:"transcript-block-speech"},(0,e.createElement)("strong",{style:{color:o[`speaker_${t+1}_color`]}},a),": ",l)})))}})}},t={};function o(e){var a=t[e];if(void 0!==a)return a.exports;var l=t[e]={exports:{}};return r[e](l,l.exports,o),l.exports}o.m=r,e=[],o.O=(r,t,a,l)=>{if(!t){var n=1/0;for(p=0;p<e.length;p++){for(var[t,a,l]=e[p],s=!0,c=0;c<t.length;c++)(!1&l||n>=l)&&Object.keys(o.O).every((e=>o.O[e](t[c])))?t.splice(c--,1):(s=!1,l<n&&(n=l));if(s){e.splice(p--,1);var i=a();void 0!==i&&(r=i)}}return r}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[t,a,l]},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={826:0,431:0};o.O.j=r=>0===e[r];var r=(r,t)=>{var a,l,[n,s,c]=t,i=0;if(n.some((r=>0!==e[r]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(c)var p=c(o)}for(r&&r(t);i<n.length;i++)l=n[i],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(p)},t=globalThis.webpackChunktranscripts_block=globalThis.webpackChunktranscripts_block||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var a=o.O(void 0,[431],(()=>o(395)));a=o.O(a)})();